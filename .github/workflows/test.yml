# ------------DO-NOT-MODIFY-THIS-FILE------------
# This file was automatically generated by github-actions-workflow-ts.
# DO NOT MODIFY IT BY HAND. Instead, modify the source *.wac.ts file(s)
# and run "generate-workflow-files build" (or "gwf build") to regenerate this file.
# For more information, run "generate-workflow-files --help".
# ------------DO-NOT-MODIFY-THIS-FILE------------
name: Tests
'on':
  pull_request:
    branches:
      - main
jobs:
  Tests:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    strategy:
      matrix:
        node:
          - 16
          - 18
          - 20
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Install Node
        uses: actions/setup-node@v3
        with:
          node-version: ${{ matrix.node }}
      - name: Install pnpm
        uses: pnpm/action-setup@v2
        with:
          version: 8
      - name: Install Dependencies
        run: pnpm install --no-frozen-lockfile
      - name: Run Tests
        run: pnpm test
      - name: Update Code Coverage Badge
        if: >-
          github.ref == format('refs/heads/{0}',
          github.event.repository.default_branch) && matrix.node == 20
        uses: we-cli/coverage-badge-action@48a2699b2e537c7519bdc970fb0ecd75c80a698e
